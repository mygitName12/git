<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div id="fade-obj" style="width: 300px; height: 300px;background: #000"></div>
	<button id="fade-btn" >淡出</button>
	<script type="text/javascript">
		var btnEle = document.getElementById('fade-btn'),
		 objEle = document.getElementById('fade-obj'),
		 num = 10;
		 var flag = true,
		 			insetIn,
		 			outsetIn;
		
		 	btnEle.onclick = function(){
		 		var ele;
		 		if(num > 0){
		 			ele =fadeOut;
		 		}else{
		 		   ele = fadeIn;
		 		}
		 	   flag = setInterval(ele,120);
		 	};

		// 淡出 	
		function fadeOut(){
				btnEle.disabled = true;
				btnEle.innerHTML = '淡入';
				num --;
				objEle.style.opacity = num / 10;

				if(num > 0){
					btnEle.innerHTML = "淡出";
			}else{
				console.log(num);
				btnEle.disabled = false;
				clearInterval(flag);
			 }

				
		}

		// 淡入
		function fadeIn(){
		
				btnEle.disabled = true;
				if(num <= 10){
				num++;
				objEle.style.opacity = num / 10;
			}else{
				btnEle.disabled = false;
				clearInterval(flag);
				btnEle.innerHTML = '淡出';
			}	
		}

	</script>
</body>
</html>